
# once this file is loaded, we are found
set(AcMake_FOUND YES)

# determine where our various files are
if(AcMake_SOURCE_DIR)
    set(ACMAKE_TOOLS_DIR ${AcMake_SOURCE_DIR}/tools)
    set(ACMAKE_MODULES_DIR ${AcMake_SOURCE_DIR}/modules)
    set(ACMAKE_TEMPLATES_DIR ${AcMake_SOURCE_DIR}/templates)
    set(ACMAKE_INCLUDE_DIR ${AcMake_SOURCE_DIR}/include)
else(AcMake_SOURCE_DIR)
    get_filename_component(ACMAKE_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)
    get_filename_component(ACMAKE_PREFIX    "${ACMAKE_CMAKE_DIR}/../../.." ABSOLUTE)

    if(EXISTS "${ACMAKE_PREFIX}/CMakeFiles")
        message("AcMake lies in build prefix ${ACMAKE_PREFIX}")
        set(ACMAKE_TOOLS_DIR     "@AcMake_SOURCE_DIR@/tools")
        set(ACMAKE_MODULES_DIR   "@AcMake_SOURCE_DIR@/modules")
        set(ACMAKE_TEMPLATES_DIR "@AcMake_SOURCE_DIR@/templates")
        set(ACMAKE_INCLUDE_DIR   "@AcMake_SOURCE_DIR@/include")
    else(EXISTS "${ACMAKE_PREFIX}/CMakeFiles")
        message("AcMake lies in install prefix ${ACMAKE_PREFIX}")
        set(ACMAKE_TEMPLATES_DIR "${ACMAKE_PREFIX}/@ACMAKE_TEMPLATES_SUB@")
        set(ACMAKE_MODULES_DIR   "${ACMAKE_PREFIX}/@ACMAKE_MODULES_SUB@")
        set(ACMAKE_TOOLS_DIR     "${ACMAKE_PREFIX}/@ACMAKE_TOOLS_SUB@")
        set(ACMAKE_INCLUDE_DIR   "${ACMAKE_PREFIX}/@ACMAKE_INCLUDE_SUB@")
    endif(EXISTS "${ACMAKE_PREFIX}/CMakeFiles")
endif(AcMake_SOURCE_DIR)

# extend the module path to make AcMake loadable
list(INSERT CMAKE_MODULE_PATH 0 ${ACMAKE_MODULES_DIR})

# load the build system
include(AcMake)
